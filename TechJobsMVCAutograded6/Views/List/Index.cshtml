<!-- displays a table of links broken down into several categories -->

<div class="container body-content">
    <h1>@ViewBag.title</h1>
    <h2 class="centered">View Jobs By Category</h2>
</div>

<table class="centeredTable">
    <tr>
        @foreach (var column in ViewBag.columns)
        {
            <!-- Data from ColumnChoices is used to fill in the header row -->
            <th>@column.Value</th>
        }
    </tr>
    <tr>
        <!-- TODO #2: Complete the View Jobs By Category Table. -->

        <td>
            <!--  asp-route-column and asp-route-value.This syntax causes Razor to dynamically generate query parameters for our URL. EX: /list/values?column=location&value=... -->
            <a asp-controller="List" asp-action="Jobs" asp-route-column="All" asp-route-value="View All">View All</a>
        </td> <!-- Feel free to remove or modify this element if necessary. -->

        <!-- TableChoices is a Dictionary from ListController, and it contains the names of the Job fields as keys (Employer, etc.). The value for each key is a List of Employer, Location, CoreCompetency, or PositionType objects.
         category represents one key/value pair from TableChoices -->
        <!-- below, item represents one entry from the stored List -->
        @foreach (var category in ViewBag.tableChoices)
        {
            <td>
                <ul>
                    @foreach (var item in category.Value)
                    {
                        <li>
                            <!--  information stored in TableChoices generates the link text (in btwn the anchor tags.) When the user clicks on these links, they will be routed to the Jobs() action method in ListController, which looks for these parameters.it will display a list of jobs that relate to the choice, via the Jobs() action method. the page you will see is generated by the Jobs.cshtml template. It has a similar structure as Index.cshtml, but the table consists of only one column.-->
                            <a asp-controller="List" asp-action="Jobs" asp-route-column="@category.Key"
                                asp-route-value="@item">@item</a>
                        </li>
                    }

                </ul>
            </td>
        }
    </tr>
</table>
